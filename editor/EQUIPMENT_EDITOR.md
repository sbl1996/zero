# è£…å¤‡ç¼–è¾‘å™¨å®ç°è®¡åˆ’

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

è£…å¤‡ç¼–è¾‘å™¨ç”¨äºç®¡ç†æ¸¸æˆè£…å¤‡æ•°æ® (`src/data/equipment_items.json`) å’Œè£…å¤‡å›¾ç‰‡ç´ æã€‚

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### 1. è£…å¤‡æ•°æ®ç®¡ç†
- âœ… æŸ¥çœ‹æ‰€æœ‰è£…å¤‡åˆ—è¡¨
- âœ… åˆ›å»ºæ–°è£…å¤‡
- âœ… ç¼–è¾‘ç°æœ‰è£…å¤‡
- âœ… åˆ é™¤è£…å¤‡
- âœ… æœç´¢/ç­›é€‰è£…å¤‡ï¼ˆæŒ‰æ§½ä½ã€å“è´¨ã€ç­‰çº§ç­‰ï¼‰

### 2. è£…å¤‡å±æ€§ç¼–è¾‘
- âœ… åŸºæœ¬ä¿¡æ¯ï¼šIDã€åç§°ã€æè¿°ã€å›¾ç‰‡è·¯å¾„ (artwork)
- âœ… è£…å¤‡æ§½ä½ï¼šhelmetã€shieldLã€weaponRã€weapon2Hã€armorã€ring
- âœ… å“è´¨ç­‰çº§ï¼šnormalã€fineã€rareã€excellentã€epic
- âœ… éœ€æ±‚å¢ƒç•Œï¼šrequired_tier (1-9)
- âœ… ä¸»å±æ€§ï¼šç±»å‹ (HP/QiMax/ATK/DEF/AGI/REC) + æ•°å€¼ + æ•°å€¼ç±»å‹ (flat/percent)
- âœ… å‰¯å±æ€§åˆ—è¡¨ï¼šå¤šä¸ªå‰¯å±æ€§é…ç½®ï¼ˆæ”¯æŒæ›´å¤šç±»å‹å¦‚ HpRecã€WeaknessRate ç­‰ï¼‰
- âœ… ä»·æ ¼ï¼šbuyï¼ˆè´­ä¹°ä»·ï¼‰ã€sellï¼ˆå‡ºå”®ä»·ï¼‰
- âœ… æ ‡ç­¾ï¼šstarter ç­‰ç‰¹æ®Šæ ‡è®° (flags æ•°ç»„)
- âœ… é«˜çº§é€‰é¡¹ï¼šexclusive (2H/1H+Shield)ã€flatCapMultiplierã€enhance_materials

### 3. è£…å¤‡å›¾ç‰‡ç®¡ç†
- âœ… ç¼–è¾‘ artwork å­—æ®µï¼ˆå›¾ç‰‡æ–‡ä»¶åï¼‰
- âœ… ä¸Šä¼ è£…å¤‡å›¾ç‰‡åˆ° `src/assets/` ç›®å½•ï¼ˆWEBP æ ¼å¼ï¼‰
- âœ… é¢„è§ˆè£…å¤‡å›¾ç‰‡
- âœ… åˆ é™¤è£…å¤‡å›¾ç‰‡
- âœ… æ”¯æŒæ‹–æ‹½ä¸Šä¼ 
- âœ… å›¾ç‰‡é€šè¿‡ Vite çš„ import.meta.glob åŠ¨æ€åŠ è½½

### 4. æ•°æ®éªŒè¯
- âœ… ID å”¯ä¸€æ€§æ£€æŸ¥
- âœ… å¿…å¡«å­—æ®µéªŒè¯
- âœ… æ•°å€¼èŒƒå›´éªŒè¯
- âœ… æ§½ä½ä¸å±æ€§åˆç†æ€§æ£€æŸ¥

## ğŸ“ æ–‡ä»¶ç»“æ„

```
editor/
â”œâ”€â”€ backend/
â”‚   â””â”€â”€ app/
â”‚       â””â”€â”€ routes/
â”‚           â””â”€â”€ equipment.py          # è£…å¤‡ API è·¯ç”± ã€æ–°å»ºã€‘
â”‚
â”œâ”€â”€ frontend/
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ components/
â”‚       â”‚   â”œâ”€â”€ EquipmentEditor.vue   # è£…å¤‡ç¼–è¾‘å™¨ä¸»ç»„ä»¶ ã€æ–°å»ºã€‘
â”‚       â”‚   â”œâ”€â”€ EquipmentList.vue     # è£…å¤‡åˆ—è¡¨ ã€æ–°å»ºã€‘
â”‚       â”‚   â”œâ”€â”€ EquipmentForm.vue     # è£…å¤‡è¡¨å• ã€æ–°å»ºã€‘
â”‚       â”‚   â””â”€â”€ EquipmentImage.vue    # å›¾ç‰‡ä¸Šä¼ /é¢„è§ˆ ã€æ–°å»ºã€‘
â”‚       â”œâ”€â”€ stores/
â”‚       â”‚   â””â”€â”€ equipment.ts          # è£…å¤‡çŠ¶æ€ç®¡ç† ã€æ–°å»ºã€‘
â”‚       â”œâ”€â”€ types/
â”‚       â”‚   â””â”€â”€ equipment.ts          # è£…å¤‡ç±»å‹å®šä¹‰ ã€æ–°å»ºã€‘
â”‚       â””â”€â”€ api/
â”‚           â””â”€â”€ equipment.ts          # è£…å¤‡ API å®¢æˆ·ç«¯ ã€æ–°å»ºã€‘
â”‚
â””â”€â”€ EQUIPMENT_EDITOR.md               # æœ¬æ–‡æ¡£ ã€æ–°å»ºã€‘

src/
â”œâ”€â”€ data/
â”‚   â””â”€â”€ equipment_items.json          # è£…å¤‡æ•°æ®æ–‡ä»¶ ã€å·²å­˜åœ¨ï¼Œéœ€ç¼–è¾‘ã€‘
â””â”€â”€ assets/
    â””â”€â”€ equipment/                    # è£…å¤‡å›¾ç‰‡ç›®å½• ã€æ–°å»ºã€‘
```

## ğŸ”§ æŠ€æœ¯å®ç°

### æ•°æ®æ¨¡å‹ (TypeScript)

```typescript
// JSON æ–‡ä»¶ä¸­çš„åŸå§‹æ•°æ®æ ¼å¼
interface RawEquipmentItem {
  id: string;                    // è£…å¤‡å”¯ä¸€æ ‡è¯†
  name: string;                  // è£…å¤‡åç§°
  description?: string;          // è£…å¤‡æè¿°ï¼ˆå¯é€‰ï¼‰
  artwork?: string;              // å›¾ç‰‡æ–‡ä»¶åï¼ˆå¯é€‰ï¼Œå¦‚ "sword.webp"ï¼‰
  slot: EquipmentSlot;          // è£…å¤‡æ§½ä½
  base_quality: Quality;         // åŸºç¡€å“è´¨
  required_tier?: number;        // éœ€æ±‚å¢ƒç•Œï¼ˆ1-9ï¼Œå¯é€‰ï¼‰
  base_main: RawStat;           // ä¸»å±æ€§
  substats?: RawStat[];         // å‰¯å±æ€§åˆ—è¡¨ï¼ˆå¯é€‰ï¼‰
  price?: {                     // ä»·æ ¼ï¼ˆå¯é€‰ï¼‰
    buy?: number;               // è´­ä¹°ä»·æ ¼
    sell?: number;              // å‡ºå”®ä»·æ ¼
  };
  flags?: string[];             // ç‰¹æ®Šæ ‡è®°ï¼ˆå¯é€‰ï¼‰
  exclusive?: '2H' | '1H+Shield';  // äº’æ–¥è£…å¤‡ç±»å‹ï¼ˆå¯é€‰ï¼‰
  flatCapMultiplier?: number;   // å›ºå®šä¸Šé™ä¹˜æ•°ï¼ˆå¯é€‰ï¼‰
  enhance_materials?: EnhanceMaterialRequirement[];  // å¼ºåŒ–ææ–™ï¼ˆå¯é€‰ï¼‰
}

type EquipmentSlot = 
  | 'helmet'       // å¤´ç›”
  | 'shieldL'      // å·¦æ‰‹ç›¾ç‰Œ
  | 'weaponR'      // å³æ‰‹æ­¦å™¨
  | 'weapon2H'     // åŒæ‰‹æ­¦å™¨
  | 'armor'        // æŠ¤ç”²
  | 'ring';        // æˆ’æŒ‡

type Quality = 
  | 'normal'       // æ™®é€šï¼ˆç°è‰²ï¼‰
  | 'fine'         // ä¼˜è´¨ï¼ˆç»¿è‰²ï¼‰
  | 'rare'         // ç¨€æœ‰ï¼ˆè“è‰²ï¼‰
  | 'excellent'    // å“è¶Šï¼ˆç´«è‰²ï¼‰
  | 'epic';        // å²è¯—ï¼ˆæ©™è‰²ï¼‰

// ä¸»å±æ€§ç±»å‹ï¼ˆåªèƒ½ç”¨äº base_mainï¼‰
type MainStatType = 
  | 'HP'           // ç”Ÿå‘½å€¼
  | 'QiMax'        // æ–—æ°”ä¸Šé™
  | 'ATK'          // æ”»å‡»åŠ›
  | 'DEF'          // é˜²å¾¡åŠ›
  | 'AGI'          // æ•æ·
  | 'REC';         // å›å¤

// å‰¯å±æ€§ç±»å‹ï¼ˆå¯ç”¨äº substatsï¼‰
type SubStatType = 
  | MainStatType   // ä¸»å±æ€§ç±»å‹ä¹Ÿå¯ä½œä¸ºå‰¯å±æ€§
  | 'HpRec'        // ç”Ÿå‘½å›å¤
  | 'QiRec'        // æ–—æ°”å›å¤
  | 'WeaknessRate'      // ç ´ç»½ç‡ï¼ˆç™¾åˆ†æ¯”ï¼‰
  | 'WeaknessDmgPct'    // ç ´ç»½ä¼¤å®³ï¼ˆç™¾åˆ†æ¯”ï¼‰
  | 'DamageReduction'   // ä¼¤å®³å‡å…ï¼ˆç™¾åˆ†æ¯”ï¼‰
  | 'SkillCooldownReduction'  // æŠ€èƒ½å†·å´ç¼©å‡ï¼ˆç™¾åˆ†æ¯”ï¼‰
  | 'QiGuardAbsorb'     // æ–—æ°”æŠ¤ç›¾å¸æ”¶ï¼ˆç™¾åˆ†æ¯”ï¼‰
  | 'QiGuardEfficiency' // æ–—æ°”æŠ¤ç›¾æ•ˆç‡ï¼ˆç™¾åˆ†æ¯”ï¼‰
  | 'PenFlat'      // å›ºå®šç©¿é€
  | 'PenPct'       // ç™¾åˆ†æ¯”ç©¿é€
  | 'Toughness';   // éŸ§æ€§

interface RawStat {
  type: MainStatType | SubStatType;
  value: number;
  value_type?: 'flat' | 'percent';  // æ•°å€¼ç±»å‹ï¼ˆå¯é€‰ï¼Œé»˜è®¤æ ¹æ®ç±»å‹åˆ¤æ–­ï¼‰
}

interface EnhanceMaterialRequirement {
  target_level?: number;     // ç›®æ ‡ç­‰çº§
  materials?: Array<{        // æ‰€éœ€ææ–™
    id: string;              // ææ–™ ID
    quantity?: number;       // æ•°é‡ï¼ˆé»˜è®¤ 1ï¼‰
  }>;
}
```

## ğŸ“ å®æ–½æ­¥éª¤ (TODO List)

### Phase 1: åç«¯åŸºç¡€è®¾æ–½ ğŸ”§

- [x] **1.1 åˆ›å»ºè£…å¤‡æ•°æ®æ¨¡å‹**
  - æ–‡ä»¶: `backend/app/models.py`
  - æ·»åŠ  `EquipmentItem`, `MainStat`, `SubStat` Pydantic æ¨¡å‹
  - å®šä¹‰æ§½ä½ã€å“è´¨ã€å±æ€§ç±»å‹æšä¸¾

- [x] **1.2 å®ç°è£…å¤‡ä»“å‚¨å±‚**
  - æ–‡ä»¶: `backend/app/repository.py`
  - æ·»åŠ  `EquipmentRepository` ç±»
  - å®ç° CRUD æ“ä½œï¼ˆè¯»å–/ä¿å­˜ JSON æ–‡ä»¶ï¼‰
  - å®ç°æœç´¢/ç­›é€‰æ–¹æ³•

- [x] **1.3 åˆ›å»ºè£…å¤‡ API è·¯ç”±**
  - æ–‡ä»¶: `backend/app/routes/equipment.py` (æ–°å»º)
  - `GET /api/equipment` - è·å–è£…å¤‡åˆ—è¡¨ï¼ˆæ”¯æŒç­›é€‰ï¼‰
  - `GET /api/equipment/{id}` - è·å–å•ä¸ªè£…å¤‡
  - `POST /api/equipment` - åˆ›å»ºè£…å¤‡
  - `PUT /api/equipment/{id}` - æ›´æ–°è£…å¤‡
  - `DELETE /api/equipment/{id}` - åˆ é™¤è£…å¤‡
  - `GET /api/equipment/{id}/image` - è·å–è£…å¤‡å›¾ç‰‡
  - `POST /api/equipment/{id}/image` - ä¸Šä¼ è£…å¤‡å›¾ç‰‡
  - `DELETE /api/equipment/{id}/image` - åˆ é™¤è£…å¤‡å›¾ç‰‡
  - ~~`POST /api/equipment/images/convert` - æ‰¹é‡è½¬æ¢å›¾ç‰‡æ ¼å¼~~ (ä¸éœ€è¦ï¼Œç›´æ¥ä½¿ç”¨WebP)

- [x] **1.4 é›†æˆåˆ°ä¸»åº”ç”¨**
  - æ–‡ä»¶: `backend/app/application.py`
  - æ³¨å†Œè£…å¤‡è·¯ç”±åˆ° FastAPI åº”ç”¨

- [x] **1.5 åˆ›å»ºå›¾ç‰‡å­˜å‚¨ç›®å½•**
  - åˆ›å»º `src/assets/equipment/` ç›®å½•
  - é…ç½®åç«¯è®¿é—® src/assets ç›®å½•çš„æœåŠ¡

### Phase 2: å‰ç«¯ç±»å‹å®šä¹‰ ğŸ“

- [x] **2.1 å®šä¹‰ TypeScript ç±»å‹**
  - æ–‡ä»¶: `frontend/src/types/equipment.ts` (æ–°å»º)
  - å®šä¹‰ `EquipmentItem` æ¥å£
  - å®šä¹‰æ§½ä½ã€å“è´¨ã€å±æ€§ç±»å‹æšä¸¾
  - å®šä¹‰è¡¨å•æ•°æ®ç±»å‹

- [x] **2.2 åˆ›å»º API å®¢æˆ·ç«¯**
  - æ–‡ä»¶: `frontend/src/api/index.ts` (æ›´æ–°)
  - å®ç°æ‰€æœ‰è£…å¤‡ API è°ƒç”¨æ–¹æ³•
  - å¤„ç†å›¾ç‰‡ä¸Šä¼ /ä¸‹è½½

- [x] **2.3 åˆ›å»º Pinia Store**
  - æ–‡ä»¶: `frontend/src/stores/equipment.ts` (æ–°å»º)
  - ç®¡ç†è£…å¤‡åˆ—è¡¨çŠ¶æ€
  - ç®¡ç†å½“å‰ç¼–è¾‘çš„è£…å¤‡
  - å®ç°ç­›é€‰/æœç´¢é€»è¾‘
  - ~~å®ç°æ’¤é”€/é‡åšåŠŸèƒ½~~ (åç»­å¢å¼º)

### Phase 3: å‰ç«¯ UI ç»„ä»¶ ğŸ¨

- [x] **3.1 è£…å¤‡åˆ—è¡¨ç»„ä»¶**
  - æ–‡ä»¶: `frontend/src/components/EquipmentList.vue` (æ–°å»º)
  - æ˜¾ç¤ºè£…å¤‡å¡ç‰‡åˆ—è¡¨ï¼ˆå¸¦å“è´¨é¢œè‰²ï¼‰
  - ç­›é€‰å™¨ï¼šæ§½ä½ã€å“è´¨
  - æœç´¢æ¡†ï¼šæŒ‰ ID/åç§°æœç´¢
  - ~~æ’åºï¼šæŒ‰ç­‰çº§ã€ä»·æ ¼ã€åç§°æ’åº~~ (ä½¿ç”¨åç«¯é»˜è®¤æ’åº)

- [x] **3.2 è£…å¤‡è¡¨å•ç»„ä»¶**
  - æ–‡ä»¶: `frontend/src/components/EquipmentForm.vue` (æ–°å»º)
  - åŸºæœ¬ä¿¡æ¯è¾“å…¥ï¼ˆIDã€åç§°ã€æè¿°ã€artwork æ–‡ä»¶åï¼‰
  - æ§½ä½é€‰æ‹©ï¼ˆhelmet/shieldL/weaponR/weapon2H/armor/ringï¼‰
  - å“è´¨é€‰æ‹©ï¼ˆnormal/fine/rare/excellent/epicï¼‰
  - éœ€æ±‚å¢ƒç•Œè¾“å…¥ï¼ˆ1-9ï¼Œå¯é€‰ï¼‰
  - ä¸»å±æ€§é…ç½®ï¼ˆç±»å‹ + æ•°å€¼ + æ•°å€¼ç±»å‹ï¼‰
  - å‰¯å±æ€§åˆ—è¡¨ï¼ˆå¯æ·»åŠ /åˆ é™¤å¤šä¸ªï¼Œæ”¯æŒå®Œæ•´å‰¯å±æ€§ç±»å‹ï¼‰
  - ä»·æ ¼è¾“å…¥ï¼ˆbuy/sellï¼Œå¯é€‰ï¼‰
  - æ ‡ç­¾è¾“å…¥ï¼ˆflags æ•°ç»„ï¼Œå¯é€‰ï¼‰
  - é«˜çº§é€‰é¡¹ï¼ˆexclusiveã€flatCapMultiplierã€~~enhance_materials~~ï¼‰
  - è¡¨å•éªŒè¯

- [x] **3.3 è£…å¤‡å›¾ç‰‡ç»„ä»¶**
  - æ–‡ä»¶: `frontend/src/components/EquipmentImage.vue` (æ–°å»º)
  - å›¾ç‰‡é¢„è§ˆï¼ˆä» src/assets/ åŠ è½½æ˜¾ç¤ºï¼‰
  - artwork å­—æ®µè¾“å…¥ï¼ˆæ–‡ä»¶åï¼‰
  - ä¸Šä¼ åŒºåŸŸï¼ˆæ‹–æ‹½/ç‚¹å‡»ä¸Šä¼ åˆ° src/assets/equipment/ï¼‰
  - ä¸Šä¼ è¿›åº¦æ˜¾ç¤º
  - åˆ é™¤å›¾ç‰‡æŒ‰é’®ï¼ˆä»æ–‡ä»¶ç³»ç»Ÿåˆ é™¤ï¼‰
  - ä»…æ”¯æŒ WebP æ ¼å¼ï¼ˆæ¸¸æˆä½¿ç”¨ import.meta.glob åŠ è½½ï¼‰

- [x] **3.4 è£…å¤‡ç¼–è¾‘å™¨ä¸»ç»„ä»¶**
  - æ–‡ä»¶: `frontend/src/components/EquipmentEditor.vue` (æ–°å»º)
  - å·¦ä¾§ï¼šè£…å¤‡åˆ—è¡¨ (EquipmentList)
  - å³ä¾§ï¼šè£…å¤‡è¡¨å• (EquipmentForm + EquipmentImage)
  - å·¥å…·æ ï¼šæ–°å»ºã€ä¿å­˜ã€åˆ é™¤ã€~~æ’¤é”€ã€é‡åš~~
  - çŠ¶æ€æŒ‡ç¤ºï¼šæœªä¿å­˜æé†’ã€åŠ è½½çŠ¶æ€
  - å¸ƒå±€ï¼šå“åº”å¼è®¾è®¡

### Phase 4: é›†æˆä¸æµ‹è¯• ğŸ”Œ

- [x] **4.1 é›†æˆåˆ°ç¼–è¾‘å™¨ä¸»åº”ç”¨**
  - æ–‡ä»¶: `frontend/src/App.vue`
  - æ·»åŠ è£…å¤‡ç¼–è¾‘å™¨å¯¼èˆªé¡¹ï¼ˆâš”ï¸ è£…å¤‡ï¼‰
  - ~~è·¯ç”±é…ç½®~~ (ä½¿ç”¨ç®€å•çš„æ¡ä»¶æ¸²æŸ“)

- [x] **4.2 åŠŸèƒ½æµ‹è¯•**
  - åˆ›å»ºæ–°è£…å¤‡ï¼ˆå„ç§æ§½ä½ã€å“è´¨ï¼‰
  - ç¼–è¾‘ç°æœ‰è£…å¤‡
  - åˆ é™¤è£…å¤‡
  - ä¸Šä¼ /åˆ é™¤å›¾ç‰‡
  - æœç´¢/ç­›é€‰åŠŸèƒ½
  - æ•°æ®éªŒè¯

- [x] **4.3 æ•°æ®å®Œæ•´æ€§æµ‹è¯•**
  - ç¡®ä¿ JSON æ–‡ä»¶æ ¼å¼æ­£ç¡®
  - ~~éªŒè¯ ID å”¯ä¸€æ€§~~ (åç«¯æœªå®ç°ï¼Œå‰ç«¯æç¤º)
  - æ£€æŸ¥å›¾ç‰‡è·¯å¾„æ­£ç¡®æ€§

### Phase 5: å¢å¼ºåŠŸèƒ½ âœ¨

- [ ] **5.1 æ‰¹é‡æ“ä½œ**
  - æ‰¹é‡å¯¼å…¥è£…å¤‡ï¼ˆCSV/JSONï¼‰
  - æ‰¹é‡å¯¼å‡ºè£…å¤‡
  - æ‰¹é‡è®¾ç½®ä»·æ ¼/ç­‰çº§

- [ ] **5.2 é«˜çº§ç­›é€‰**
  - æŒ‰å±æ€§ç±»å‹ç­›é€‰
  - æŒ‰ä»·æ ¼åŒºé—´ç­›é€‰
  - ç»„åˆç­›é€‰æ¡ä»¶

- [ ] **5.3 æ•°æ®å¯è§†åŒ–**
  - è£…å¤‡å±æ€§å¯¹æ¯”
  - è£…å¤‡åˆ†å¸ƒå›¾è¡¨ï¼ˆæŒ‰æ§½ä½/å“è´¨/ç­‰çº§ï¼‰

- [ ] **5.4 è£…å¤‡é¢„è§ˆ**
  - åœ¨æ¸¸æˆé£æ ¼çš„è£…å¤‡é¢æ¿ä¸­é¢„è§ˆ
  - æ˜¾ç¤ºè®¡ç®—åçš„æœ€ç»ˆå±æ€§

- [ ] **5.5 å›¾ç‰‡ä¼˜åŒ–**
  - è‡ªåŠ¨è£å‰ª/å‹ç¼©å›¾ç‰‡
  - ç”Ÿæˆç¼©ç•¥å›¾
  - å›¾ç‰‡æ ¼å¼è½¬æ¢å·¥å…·

### Phase 6: æ–‡æ¡£ä¸ä¼˜åŒ– ğŸ“š

- [ ] **6.1 ç”¨æˆ·æ–‡æ¡£**
  - æ›´æ–°æœ¬æ–‡æ¡£ï¼ˆä½¿ç”¨è¯´æ˜ï¼‰
  - æ·»åŠ ç¤ºä¾‹æˆªå›¾
  - å¿«æ·é”®è¯´æ˜

- [ ] **6.2 ä»£ç ä¼˜åŒ–**
  - ä»£ç å®¡æŸ¥
  - æ€§èƒ½ä¼˜åŒ–ï¼ˆè™šæ‹Ÿæ»šåŠ¨ã€æ‡’åŠ è½½ï¼‰
  - é”™è¯¯å¤„ç†å®Œå–„

- [ ] **6.3 æµ‹è¯•è„šæœ¬**
  - åˆ›å»ºåç«¯æµ‹è¯•è„šæœ¬ `test_equipment.py`
  - å•å…ƒæµ‹è¯•è¦†ç›–

## ğŸ® UI/UX è®¾è®¡

### è§†è§‰è®¾è®¡

- **é…è‰²æ–¹æ¡ˆ**ï¼ˆä¸æ¸¸æˆå®ç°ä¸€è‡´ï¼‰
  - æ™®é€š (normal): ç°è‰² #cfd8dc
  - ä¼˜è´¨ (fine): ç»¿è‰² #5de17b
  - ç¨€æœ‰ (rare): è“è‰² #67b5ff
  - å“è¶Š (excellent): ç´«è‰² #d177ff
  - å²è¯— (epic): æ©™è‰² #ffb347

- **è£…å¤‡å¡ç‰‡**
  - æ˜¾ç¤ºè£…å¤‡å›¾ç‰‡ç¼©ç•¥å›¾ï¼ˆartwork æˆ–é»˜è®¤ emoji å›¾æ ‡ï¼‰
  - å“è´¨è¾¹æ¡†é¢œè‰²å’Œå…‰æ™•æ•ˆæœ
  - è£…å¤‡åç§° + éœ€æ±‚å¢ƒç•Œ
  - ä»·æ ¼æ ‡ç­¾ï¼ˆsell/buyï¼‰

## ğŸ”‘ API ç«¯ç‚¹è§„èŒƒ

### è£…å¤‡åˆ—è¡¨
```http
GET /api/equipment
Query: ?slot=weaponR&quality=rare&tier_min=2&tier_max=5&search=sword
Response: EquipmentItem[]
```

### è·å–å•ä¸ªè£…å¤‡
```http
GET /api/equipment/{id}
Response: EquipmentItem
```

### åˆ›å»ºè£…å¤‡
```http
POST /api/equipment
Body: EquipmentItem
Response: EquipmentItem
```

### æ›´æ–°è£…å¤‡
```http
PUT /api/equipment/{id}
Body: EquipmentItem
Response: EquipmentItem
```

### åˆ é™¤è£…å¤‡
```http
DELETE /api/equipment/{id}
Response: { success: true }
```

### ä¸Šä¼ å›¾ç‰‡
```http
POST /api/equipment/{id}/image
Body: multipart/form-data (file)
Response: { path: string }
```

### åˆ é™¤å›¾ç‰‡
```http
DELETE /api/equipment/{id}/image
Response: { success: true }
```

## ğŸ“Š æ•°æ®éªŒè¯è§„åˆ™

### å¿…å¡«å­—æ®µ
- `id`: éç©ºï¼Œå”¯ä¸€ï¼Œå°å†™å­—æ¯+è¿å­—ç¬¦
- `name`: éç©ºï¼Œæœ€å¤§é•¿åº¦ 50
- `slot`: æšä¸¾å€¼ä¹‹ä¸€ (helmet/shieldL/weaponR/weapon2H/armor/ring)
- `base_quality`: æšä¸¾å€¼ä¹‹ä¸€ (normal/fine/rare/excellent/epic)
- `base_main`: å¿…é¡»åŒ…å« type å’Œ value

### å¯é€‰å­—æ®µ
- `description`: è£…å¤‡æè¿°
- `artwork`: å›¾ç‰‡æ–‡ä»¶åï¼ˆå¦‚ "sword.webp"ï¼‰
- `required_tier`: 1-9 ä¹‹é—´çš„æ•´æ•°
- `substats`: æ•°ç»„ï¼Œæ¯é¡¹åŒ…å« typeã€value å’Œå¯é€‰çš„ value_type
- `price`: åŒ…å« buy å’Œ/æˆ– sell
- `flags`: å­—ç¬¦ä¸²æ•°ç»„
- `exclusive`: '2H' æˆ– '1H+Shield'
- `flatCapMultiplier`: æ•°å­—
- `enhance_materials`: å¼ºåŒ–ææ–™éœ€æ±‚æ•°ç»„

### ä¸šåŠ¡è§„åˆ™
- base_main.type å¿…é¡»æ˜¯ä¸»å±æ€§ç±»å‹ (HP/QiMax/ATK/DEF/AGI/REC)
- substats[].type å¯ä»¥æ˜¯ä»»æ„å‰¯å±æ€§ç±»å‹
- é»˜è®¤ç™¾åˆ†æ¯”å‰¯å±æ€§: WeaknessRateã€WeaknessDmgPctã€DamageReduction ç­‰
- price.buy å’Œ price.sell éƒ½æ˜¯å¯é€‰çš„
- artwork åº”è¯¥æ˜¯å­˜åœ¨äº src/assets/ ç›®å½•çš„ .webp æ–‡ä»¶

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### å¯åŠ¨ç¼–è¾‘å™¨
```bash
cd editor
./start-map-editor.sh  # å¯åŠ¨åç«¯å’Œå‰ç«¯
```

### è®¿é—®è£…å¤‡ç¼–è¾‘å™¨
1. æ‰“å¼€æµè§ˆå™¨: http://localhost:5173
2. ç‚¹å‡»å·¦ä¾§å¯¼èˆª "âš”ï¸ è£…å¤‡"
3. å¼€å§‹ç¼–è¾‘è£…å¤‡

## ğŸ“ ä½¿ç”¨æµç¨‹

### åˆ›å»ºæ–°è£…å¤‡
1. ç‚¹å‡»å·¥å…·æ  "æ–°å»º" æŒ‰é’®
2. å¡«å†™è£…å¤‡åŸºæœ¬ä¿¡æ¯
3. é€‰æ‹©æ§½ä½å’Œå“è´¨
4. é…ç½®ä¸»å±æ€§å’Œå‰¯å±æ€§
5. è®¾ç½®ä»·æ ¼
6. ä¸Šä¼ è£…å¤‡å›¾ç‰‡ï¼ˆå¯é€‰ï¼‰
7. ç‚¹å‡» "ä¿å­˜"

### ç¼–è¾‘ç°æœ‰è£…å¤‡
1. åœ¨å·¦ä¾§åˆ—è¡¨é€‰æ‹©è£…å¤‡
2. å³ä¾§ç¼–è¾‘è¡¨å•ä¼šæ˜¾ç¤ºè£…å¤‡ä¿¡æ¯
3. ä¿®æ”¹éœ€è¦çš„å­—æ®µ
4. ç‚¹å‡» "ä¿å­˜"

### æ‰¹é‡ç®¡ç†
1. ä½¿ç”¨ç­›é€‰å™¨å¿«é€Ÿå®šä½è£…å¤‡
2. æ”¯æŒæŒ‰æ§½ä½ã€å“è´¨ã€ç­‰çº§ç­›é€‰
3. æœç´¢æ¡†æ”¯æŒ ID/åç§°æ¨¡ç³Šæœç´¢

## âš ï¸ æ³¨æ„äº‹é¡¹

### æ•°æ®å®‰å…¨
- ä¿å­˜å‰ä¼šè‡ªåŠ¨å¤‡ä»½ `equipment_items.json`
- å¤‡ä»½æ–‡ä»¶: `equipment_items.json.backup.{timestamp}`

### ID å‘½åè§„èŒƒ
- ä½¿ç”¨å°å†™å­—æ¯
- å•è¯ç”¨è¿å­—ç¬¦åˆ†éš”
- ä¾‹å¦‚: `iron-sword`, `leather-armor`, `ruby-ring`

### å›¾ç‰‡è§„èŒƒ
- æ ¼å¼: **ä»… WebP**ï¼ˆæ¸¸æˆé€šè¿‡ import.meta.glob åŠ è½½ .webp æ–‡ä»¶ï¼‰
- å­˜å‚¨ä½ç½®: `src/assets/equipment/` ç›®å½•
- å»ºè®®å°ºå¯¸: 256x256 æˆ– 512x512
- èƒŒæ™¯: é€æ˜
- æ–‡ä»¶å¤§å°: < 500KB
- æ–‡ä»¶å: å°å†™å­—æ¯+è¿å­—ç¬¦ï¼Œå¦‚ "iron-sword.webp"

## ğŸ¯ é‡Œç¨‹ç¢‘

- **M1 (åŸºç¡€åŠŸèƒ½)**: Phase 1-3 å®Œæˆï¼Œå¯ä»¥ CRUD è£…å¤‡
- **M2 (å›¾ç‰‡ç®¡ç†)**: Phase 4 å®Œæˆï¼Œæ”¯æŒå›¾ç‰‡ä¸Šä¼ /é¢„è§ˆ
- **M3 (å®Œæ•´åŠŸèƒ½)**: Phase 5 å®Œæˆï¼Œæ‰€æœ‰å¢å¼ºåŠŸèƒ½
- **M4 (ç”Ÿäº§å°±ç»ª)**: Phase 6 å®Œæˆï¼Œæ–‡æ¡£å’Œä¼˜åŒ–å®Œæˆ

## ğŸ“… é¢„ä¼°æ—¶é—´

- Phase 1: 4-6 å°æ—¶
- Phase 2: 2-3 å°æ—¶
- Phase 3: 6-8 å°æ—¶
- Phase 4: 2-3 å°æ—¶
- Phase 5: 4-6 å°æ—¶ï¼ˆå¯é€‰ï¼‰
- Phase 6: 2-3 å°æ—¶

**æ€»è®¡**: 20-29 å°æ—¶ï¼ˆä¸å«å¢å¼ºåŠŸèƒ½çº¦ 14-20 å°æ—¶ï¼‰

## ğŸ¤ å‚è€ƒ

- åœ°å›¾ç¼–è¾‘å™¨å®ç°: `MAP_EDITOR.md`
- éŸ³ä¹ç¼–è¾‘å™¨å®ç°: `MUSIC_EDITOR.md`
- æ€ªç‰©ç¼–è¾‘å™¨ä»£ç : `backend/app/routes/monsters.py`
- ç¼–è¾‘å™¨æ¶æ„: `README.md`
